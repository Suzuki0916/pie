#!/usr/bin/env php
<?php

declare(strict_types=1);

namespace Php\Pie;

use Php\Pie\Command\DownloadCommand;
use Php\Pie\DependencyResolver\ResolveDependencyWithComposer;
use Php\Pie\Downloading\UnixDownloadAndExtract;
use Symfony\Component\Console\Application;
use Symfony\Component\Console\CommandLoader\ContainerCommandLoader;

/** @psalm-suppress UnresolvableInclude */
include $_composer_autoload_path ?? __DIR__ . '/../vendor/autoload.php';

$application = new Application('pie', 'dev-main');
$application->setCommandLoader(new ContainerCommandLoader(
    Container::factory(),
    [
        'download' => DownloadCommand::class,
    ]
));
$application->run();
